@page
@model SelectList
@{
}
@{
    ViewData["Title"] = "Share Questionnaire";
}

@{
    Layout = "_questionnaireLayout";
}

<style>
    .profile-form {
        width: 1100px;
        margin: 25px auto;
    }

        .profile-form form {
            margin-bottom: 15px;
            background: #f7f7f7;
            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 30px;
        }

        .profile-form h2 {
            margin: 0 0 15px;
        }

    .profile-control, .btn {
        min-height: 38px;
    }

    .btn {
        font-size: 15px;
        font-weight: bold;
        border-radius: 20px;
        width: 150px;
    }
</style>

<div class="profile-form">
    <form method="post" asp-controller="Home" asp-action="Index">
        <div class="container">
            <!--Adapted from https://www.aspsnippets.com/Articles/Populating-DropDownList-inside-Razor-Pages-in-ASPNet-Core-MVC.aspx -->
            <div class="profile-form">
                <select id="Id" name="title" asp-items="Model">
                    <option value="0">Please select</option>
                </select>
                <input type="hidden" name="title" />
                <input type="submit" value="Submit" />
                <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
                <script type="text/javascript">
                    $("body").on("change", "#Id", function () {
                        $("input[name=title]").val($(this).find("option:selected").text());
                    });
                </script>
                @if (ViewBag.Message != null)
                {
                    <script type="text/javascript">
            $(function () {
                alert("@ViewBag.Message");
            });
                    </script>
                }
                <!-- Taken from https://www.tutorialspoint.com/html/html_email_links.htm#:~:text=HTML%20tag%20provides%20you,mailto%20instead%20of%20using%20http.&text=This%20code%20will%20generate%20the,can%20use%20to%20send%20email -->
                <a href="mailto:? &subject=Questionnaire&body=Please fill in my questionnaire at http://ac31007-coursework-dev-as.azurewebsites.net/DatabaseTest" class="btn btn-primary btn-lg">Share by Email</a>
            </div>
        </div>
    </form>
</div>


